<!DOCTYPE html>
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title> ATIVIDADE III - Samara Röpke </title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>

</head>


<body>

    <div class="container">

        <div class="row m-5"></div>

        <div class="row g-3">
            <div class="col-sm-2 col-md-2 text-center">
                <label for="comprimento" class="form-label"> Comprimento da senha </label>
            </div>
        </div>

            <div class="row g-2 align-items-center">

                <div class="col-sm-2 col-md-2"> <!-- COMPRIMENTO DA SENHA -->
                <input type="text" class="form-control" id="comprimento" required>
                </div>
                

                <div class="col-sm-12 col-md-6"> <!-- CHECKBOXES -->
                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="tipos" id="maiuscula" value="letras_maiusculas">
                    <label class="form-check-label" for="maiuscula"> Letras maiúsculas </label>
                </div>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="tipos" id="minuscula" value="letras_minusculas">
                    <label class="form-check-label" for="minuscula"> Letras minúsculas </label>
                </div>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="tipos" id="numero" value="numero">
                    <label class="form-check-label" for="numero"> Números </label>
                </div>

                <div class="form-check form-check-inline">
                    <input class="form-check-input" type="checkbox" name="tipos" id="caracteres" value="caracteres_especiais">
                    <label class="form-check-label" for="caracteres"> Caracteres especiais </label>
                </div>
                </div>


                <div class="col-sm-4 col-md-4"> <!-- BOTÃO -->
                    <button type="submit" class="btn btn-dark w-100" id="botao_gerar" onclick="checar(); getPassword()"> GERAR SENHA </button>
                </div>

                <div class="col-12 text-center"> <!-- SENHA GERADA-->
                    <label for="senha_gerada" class="form-label"> Senha gerada </label>
                    <input type="text" class="form-control" id="senha_gerada" readonly="">
                </div>

            </div>
    </div>

    <script>

        var checadas = "";
        var checkboxes = document.getElementsByName('tipos');
        var cont = 0;

        function checar(){

            for(var j = 0; j < checkboxes.length; j++){
                
                if(checkboxes[j].checked){
                    checadas += checkboxes[j].value + " ";
                    cont++;
                }
            }
        }


        function getPassword(){

            var maiusculas = "ABCDEFGHIJLMNOPQRSTUVWXYZ";
            var minusculas = "abcdefghijklmnopqrstuvwxyz";
            var numeros = "0123456789";
            var caracteres = "!@#$%^&*()+?><:{}[]";

            var passwordLength = document.getElementById('comprimento').value;
            var senha = "";

            if((passwordLength > 3) && (passwordLength < 21)){
                
                if(checadas.includes('letras_maiusculas')){ //LETRAS MAIÚSCULAS
                    
                    for (var i = 0; i < passwordLength; i++){
                    var randomNumber = Math.floor(Math.random()*maiusculas.length);
                    senha += maiusculas.substring(randomNumber, randomNumber + 1);
                    }
                }

                else if(checadas.includes('letras_minusculas')){ //LETRAS MINÚSCULAS

                    for (i = 0; i < passwordLength; i++){
                    randomNumber = Math.floor(Math.random()*minusculas.length);
                    senha += minusculas.substring(randomNumber, randomNumber + 1);
                    }
                }
            }

            document.getElementById('senha_gerada').value = senha
        }

    </script>

</body>

</html>